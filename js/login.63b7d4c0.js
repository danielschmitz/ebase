(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["login"],{a55b:function(e,n,t){"use strict";t.r(n);var r=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-container",{attrs:{fluid:""}},[t("v-card",{staticClass:"card--flex-toolbar"},[t("v-card-title",{staticClass:"grey lighten-4",attrs:{"primary-title":""}},[t("h2",[e._v("Login")])]),e.loading?t("v-card-text",[t("v-progress-linear",{attrs:{indeterminate:!0}})],1):e._e(),e.loading?e._e():t("v-card-text",[t("v-form",{model:{value:e.valid,callback:function(n){e.valid=n},expression:"valid"}},[t("v-text-field",{attrs:{rules:e.usernameRules,label:"Usuário",required:""},model:{value:e.username,callback:function(n){e.username=n},expression:"username"}}),t("v-text-field",{attrs:{rules:e.senhaRules,label:"Senha",required:"",type:e.showP?"text":"password","append-icon":e.showP?"visibility_off":"visibility"},on:{"click:append":function(n){e.showP=!e.showP}},model:{value:e.senha,callback:function(n){e.senha=n},expression:"senha"}})],1)],1),t("v-card-actions",[t("v-spacer"),t("v-btn",{attrs:{color:"primary",flat:"",disabled:!e.valid},on:{click:function(n){return e.onLoginClick()}}},[e._v("Login")])],1)],1)],1)},a=[],i=t("a34a"),o=t.n(i),s=t("c0d6"),u=t("0dcc"),c={tryLogin:function(e,n){return u["a"].post("/auth",{username:e,senha:n}).then((function(e){return e.data}))}},l=c,d=t("6bf2"),h=t("ed08");function v(e,n,t,r,a,i,o){try{var s=e[i](o),u=s.value}catch(c){return void t(c)}s.done?n(u):Promise.resolve(u).then(r,a)}function f(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var i=e.apply(n,t);function o(e){v(i,r,a,o,s,"next",e)}function s(e){v(i,r,a,o,s,"throw",e)}o(void 0)}))}}var p={name:"Login",data:function(){return{store:s["a"],loading:!1,username:"bond",senha:"",valid:!0,showP:!1,usernameRules:[function(e){return!!e||"Campo obrigatório"}],senhaRules:[function(e){return!!e||"Campo obrigatório"}]}},mounted:function(){},methods:{onLoginClick:function(){var e=f(o.a.mark((function e(){var n,t;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.loading=!0,e.next=4,l.tryLogin(this.username,this.senha);case 4:if(n=e.sent,null!==n){e.next=7;break}throw new Error("Usuário/Senha inválidos");case 7:d["a"].login(n),t=Object(h["b"])(this.$route,"query.redirect")||"/",this.$router.push(t),e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](0),Object(h["d"])(e.t0);case 15:return e.prev=15,this.loading=!1,e.finish(15);case 18:this.loading=!1;case 19:case"end":return e.stop()}}),e,this,[[0,12,15,18]])})));function n(){return e.apply(this,arguments)}return n}(),onLogoutClick:function(){d["a"].logout()}}},m=p,b=t("2877"),g=Object(b["a"])(m,r,a,!1,null,null,null);n["default"]=g.exports}}]);
//# sourceMappingURL=login.63b7d4c0.js.map